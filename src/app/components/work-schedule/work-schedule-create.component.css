/* Container and header */
.ws-create-container { padding: 20px; max-width: 1280px; margin: 0 auto; }
.header { display: flex; align-items: center; gap: 16px; margin-bottom: 8px; }
.header h1 { margin: 0; font-size: 1.4rem; }
.btn-link { border: none; color: #0b5ed7; background: transparent; padding: 0; }

/* Form */
.create-form { margin-top: 16px; max-width: 1100px; display: grid; gap: 12px; background: #fff; border: 1px solid #e5e7eb; border-radius: 10px; padding: 16px; box-shadow: 0 1px 2px rgba(0,0,0,0.03); }
.form-row { display: grid; gap: 6px; }
.form-row .month-row { display: flex; gap: 10px; align-items: center; }
.form-row .month-row .form-control { min-width: 200px; }
.grid-2 { grid-template-columns: 1fr 1fr; gap: 12px; }
.actions { display: flex; gap: 8px; margin-top: 8px; }
.error { color: #b42318; font-size: 12px; }

.editor { display: grid; grid-template-columns: minmax(0, 1.4fr) 320px; gap: 18px; margin-top: 16px; }
.editor.table-mode { grid-template-columns: 1fr; }
.calendar { background: #fff; border: 1px solid #e5e7eb; border-radius: 12px; padding: 16px; box-shadow: 0 4px 12px rgba(15, 23, 42, 0.06); min-height: 820px; display: flex; flex-direction: column; }
.editor.table-mode .calendar { min-height: auto; }
.calendar .fc { flex: 1; }
.calendar .calendar-actions-top, .calendar .calendar-actions-bottom { display: flex; align-items: center; gap: 10px; margin-bottom: 8px; }
.calendar .calendar-actions-bottom { margin-top: 8px; }
.calendar .spacer { flex: 1; }
.calendar .filter-input { max-width: 320px; }

/* Slightly tighter calendar content within this view */
.calendar .fc .fc-daygrid-event { padding: 2px 6px; font-size: 0.86rem; }
.calendar .fc .fc-daygrid-day-frame { min-height: 110px; }
.calendar .fc .fc-daygrid-day.ws-sat { background: #e0f2fe; } /* light blue */
.calendar .fc .fc-daygrid-day.ws-sun { background: #fff7ed; } /* light orange */
.calendar .fc .fc-daygrid-day.ws-holiday { background: #fee2e2; } /* light red */
.sidebar { background: #fff; border: 1px solid #e5e7eb; border-radius: 12px; padding: 16px; height: fit-content; position: sticky; top: 12px; box-shadow: 0 4px 12px rgba(15, 23, 42, 0.06); }
.editor.table-mode .sidebar { position: static; }
.sidebar h3 { margin: 0 0 8px 0; font-size: 1.1rem; }
.workload-summary { border: 1px solid #dbe3f0; border-radius: 12px; padding: 14px; background: #f8fafc; display: grid; gap: 12px; margin-bottom: 14px; }
.summary-header { display: flex; align-items: flex-start; justify-content: space-between; gap: 12px; }
.summary-title { display: block; font-weight: 600; color: #0f172a; font-size: 1rem; }
.summary-month { display: block; font-size: 0.85rem; color: #64748b; margin-top: 2px; text-transform: capitalize; }
.summary-header .btn { padding: 4px 10px; }
.summary-field { display: grid; gap: 6px; }
.summary-field label { font-weight: 600; color: #1f2937; font-size: 0.9rem; }
.summary-note { font-size: 0.82rem; color: #64748b; margin: 0; }
.employee-list { max-height: 60vh; overflow: auto; margin-top: 8px; border-top: 1px solid #eee; }
.employee-item { padding: 10px; border-bottom: 1px solid #eee; cursor: pointer; border-radius: 8px; display: grid; gap: 6px; transition: background 0.15s ease, border-color 0.15s ease; }
.employee-item:hover { background: #f6f8fa; }
.employee-item.selected { background: #e7f1ff; border-color: #bfdbfe; }
.employee-item .name { font-weight: 600; }
.employee-item .stats { font-size: 0.82rem; color: #475569; display: grid; gap: 4px; padding-top: 6px; border-top: 1px solid #e5e9f4; }
.employee-item .stats strong { color: #1f2937; }
.employee-item .stats .over-limit { color: #b42318; }
.hint { margin-top: 8px; color: #666; font-size: 12px; }

/* Modal */
.modal-backdrop { position: fixed; inset: 0; background: rgba(15, 23, 42, 0.45); z-index: 39; backdrop-filter: blur(2px); }
.modal { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: #fff; border-radius: 16px; border: 1px solid #dbe3f0; width: 520px; max-width: calc(100% - 32px); z-index: 40; box-shadow: 0 20px 40px rgba(15, 23, 42, 0.18); display: flex; flex-direction: column; max-height: 90vh; overflow: hidden; }
.modal.wide { width: 760px; }
.modal h3 { margin: 20px 24px 12px; font-size: 1.25rem; font-weight: 600; color: #0f172a; }
.modal-body { padding: 0 24px 20px; display: grid; gap: 16px; background: #f8fafc; border-top: 1px solid #eef2f6; border-bottom: 1px solid #eef2f6; }
.modal-body .row { display: grid; gap: 8px; }
.modal-body label { font-weight: 600; color: #1f2937; }
.modal-body input[type="date"],
.modal-body input[type="time"] { height: 48px; font-size: 1.05rem; }
.modal-body .grid-2 { grid-template-columns: 1fr 1fr; gap: 16px; }
.modal-body .checkbox { display: flex; align-items: center; gap: 10px; font-weight: 500; color: #334155; }
.modal-actions { display: flex; justify-content: flex-end; gap: 10px; padding: 16px 24px; background: #fff; }

.modal-actions .btn { min-width: 100px; }

/* Event rendering: stack name over time to match details view */
.ws-event.vertical {
	display: flex;
	flex-direction: column;
	align-items: flex-start;
	gap: 2px;
	/* override global compact behavior to allow wrapping inside day cell */
	white-space: normal;
	overflow: visible;
	text-overflow: clip;
	word-break: break-word;
}
.ws-event.vertical .name { font-weight: 600; color: #0f172a; }
.ws-event.vertical .time { color: #475569; }

/* Table view helpers */
.ws-table th.sun, .ws-table td.sun { background: #fff7ed; }
.ws-table th.sat, .ws-table td.sat { background: #e0f2fe; }
.ws-table th.holiday, .ws-table td.holiday { background: #fee2e2; }
.ws-table .cell-time { display: flex; flex-direction: column; gap: 2px; align-items: center; line-height: 1.1; }
.ws-table .cell-time .start { font-weight: 600; color: #0f172a; }
.ws-table .cell-time .end { color: #334155; }

/* Table layout refinements to reduce horizontal scroll */
.ws-table table { width: 100%; table-layout: fixed; border-collapse: separate; border-spacing: 0; }
.ws-table th, .ws-table td { padding: 3px 4px; text-align: center; }
.ws-table th.emp, .ws-table td.emp { text-align: left; }
.ws-table th.emp { width: 100px; background: #f8fafc; border-bottom: 1px solid #e5e7eb; }
.ws-table th.day { border-bottom: 1px solid #e5e7eb; font-weight: 600; }
.ws-table td.day { border-left: 1px solid #f8fafc; border-bottom: 1px solid #f1f5f9; cursor: pointer; }
.ws-table .sticky { position: sticky; left: 0; z-index: 1; background: #fff; }
.ws-table .name-stack { display: flex; flex-direction: column; line-height: 1.0; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.ws-table .name-stack .first { font-weight: 600; color: #0f172a; font-size: 0.9rem; }
.ws-table .name-stack .last { color: #334155; font-size: 0.8rem; }

/* Responsive */
@media (max-width: 1024px) {
	.editor { grid-template-columns: 1fr; }
	.sidebar { position: static; }
	.calendar { min-height: 640px; }
}

/* Mobile-first tweaks */
@media (max-width: 768px) {
	.ws-create-container { padding: 12px; max-width: 100%; }
	.header h1 { font-size: 1.1rem; }
	.create-form { padding: 12px; }
	.calendar { padding: 12px; }
	.calendar .calendar-actions-top, .calendar .calendar-actions-bottom { flex-wrap: wrap; gap: 8px; }
	.calendar .filter-input { max-width: 100%; flex: 1 1 100%; }
	.view-toggle .btn { padding: 4px 8px; font-size: 0.85rem; }
	.sidebar { padding: 12px; }

	/* Table view: allow horizontal scroll and compact cells */
	.ws-table { overflow-x: auto; }
	.ws-table table { min-width: 640px; }
	.ws-table th, .ws-table td { padding: 2px 3px; }
	.ws-table th.emp { width: 88px; }
	.ws-table .sticky { position: static; }
	.ws-table .name-stack .first { font-size: 0.85rem; }
	.ws-table .name-stack .last { font-size: 0.75rem; }
	.ws-table .cell-time { gap: 1px; }
	.ws-table .cell-time .start { font-size: 0.85rem; }
	.ws-table .cell-time .end { font-size: 0.8rem; }

	/* Calendar events smaller on mobile */
	.calendar .fc .fc-daygrid-event { padding: 1px 4px; font-size: 0.78rem; }
	.ws-event.vertical .name { font-size: 0.85rem; }
	.ws-event.vertical .time { font-size: 0.8rem; }
}

/* Larger date picker grid (modal) */
.date-picker { background: #fff; border: 1px solid #e5e7eb; border-radius: 12px; padding: 12px; }
.date-picker .dp-header { display: grid; grid-template-columns: repeat(7, 1fr); gap: 6px; margin-bottom: 6px; color: #475569; font-weight: 600; text-align: center; }
.date-picker .dp-weeks { display: grid; gap: 6px; }
.date-picker .dp-row { display: grid; grid-template-columns: repeat(7, 1fr); gap: 6px; }
.date-picker .dp-cell { height: 52px; border: 1px solid #e5e7eb; border-radius: 8px; display: grid; place-items: center; cursor: pointer; background: #f8fafc; font-weight: 600; color: #0f172a; }
.date-picker .dp-cell:hover { background: #eef2ff; }
.date-picker .dp-cell.empty { background: transparent; border-color: transparent; cursor: default; }
.date-picker .dp-cell.sat { background: #e0f2fe; }
.date-picker .dp-cell.sun { background: #fff7ed; }
.date-picker .dp-cell.holiday { background: #fee2e2; }
.date-picker .dp-cell.selected { outline: 2px solid #4f46e5; outline-offset: -2px; }

/* Create form inputs sizing */
.create-form .form-control { height: 46px; font-size: 1rem; }
.create-form textarea.form-control { height: auto; min-height: 64px; }
